<mat-card class="mt-3 mt-lg-0">
  <mat-card-header class="text-white bg-danger d-flex justify-content-between align-items-center rounded-top py-4">
    <mat-card-title 
      > PAGO </mat-card-title
    >
    <mat-card-subtitle class="text-white mb-2">
   in tipo</mat-card-subtitle>

    <div class=" ">
      <mat-card-title  
        ><strong class="fs-3">
          <!-- {{ carritoService.total$ | async | currency : "S/" }} -->
          </strong
        ></mat-card-title
      >
    </div>
  </mat-card-header>
  <mat-card-content>
    <br>
    <form [formGroup]="bookingForm">
      <div class="row">
        <div class="col-md-4">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Tipo de Comprobante</mat-label>
            <mat-select formControlName="comprobante">
              <!-- @for (c of comprobantes; track $index) {
              <mat-option [value]="c.idTipoComprobante">{{
                c.descripcion
              }}</mat-option>
              } -->
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Serie</mat-label>
            <mat-select formControlName="series" >
              <!-- @for (s of series; track $index) {
              <mat-option [value]="s">{{ s.serie }}</mat-option>
              } -->
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Correlativo</mat-label>
            <input matInput formControlName="correlative" type="number" />
          </mat-form-field>
        </div>

        <div class="col-md-6">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Fecha Emisión</mat-label>
            <input
              matInput
              [matDatepicker]="emissionPicker"
              formControlName="emissionDate"
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="emissionPicker"
            ></mat-datepicker-toggle>
            <mat-datepicker #emissionPicker></mat-datepicker>
          </mat-form-field>
        </div>
        <div class="col-md-6">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Moneda</mat-label>
            <mat-select formControlName="currency">
              <!-- @for (c of codigosMoneda; track $index) {
                <mat-option [value]="c.idCodigoMoneda">{{c.descripcion}}</mat-option>
              } -->
            </mat-select>
          </mat-form-field>
        </div>

        <div class="col-md-6">
            <mat-form-field appearance="outline" class="w-100">
            <mat-label>Tipo de Doc.</mat-label>
            <mat-select formControlName="docType">
              <!-- @for (d of tipoDocumentos; track $index) {
              <mat-option [value]="d.idTipoidentidad">{{
              d.codigo
              }}</mat-option>
              } -->
            </mat-select>
            </mat-form-field>
        </div>
        <div class="col-md-6">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Num. Documento</mat-label>
            <input matInput formControlName="docNumber" />
            <button mat-icon-button (click)="search()" matSuffix>
              <mat-icon>search</mat-icon>
            </button>
            @if (bookingForm.get('docNumber')?.errors?.['minlength']) {
            <mat-error>
              solo 8 caracteres para DNI
            </mat-error>
            } @else if (bookingForm.get('docNumber')?.errors?.['maxlength']) {
            <mat-error>
              solo 11 caracteres para RUC
            </mat-error>
            }
          </mat-form-field>
        </div>

        <div class="col-12">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Nombre/Razón Social</mat-label>
            <input matInput formControlName="businessName" />
          </mat-form-field>
        </div>

        <div class="col-12">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Dirección</mat-label>
            <input matInput formControlName="address" />
          </mat-form-field>
        </div>

        <div class="col-md-4">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Pago del Cliente</mat-label>
            <input matInput formControlName="payment" type="number" />
            <span class="ms-3" matPrefix>S/. &nbsp;</span>
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Vuelto</mat-label>
            <input matInput formControlName="vuelto" type="number" />
            <span class="ms-3" matPrefix>S/. &nbsp;</span>
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Forma de pago</mat-label>
            <mat-select formControlName="paymentMethod">
              <!-- @for (f of formaPagos; track $index) {
                <mat-option [value]="f.idFormaPago">{{f.descripcion}}</mat-option>
              } -->
            </mat-select>
          </mat-form-field>
        </div>
      </div>
    </form>
  </mat-card-content>
<!-- @if (ventaItem()==null|| ventaItem().estado!="pagado") {
  <mat-card-actions class="d-flex flex-wrap justify-content-center gap-2 mb-3">
    <button mat-raised-button (click)="confirmReserva()">
      <mat-icon>lock</mat-icon> Solo Reservar
    </button>
    <button mat-stroked-button (click)="postVenta()">
      <mat-icon>open_in_new</mat-icon> Post Venta
    </button>
    <button mat-flat-button color="primary" (click)="confirmVenta()">
      <mat-icon>check_circle</mat-icon> Confirmar Venta
    </button>
    
  </mat-card-actions>
}@else {
<mat-card-actions class="d-flex flex-wrap justify-content-center gap-2 mb-3">
  <button mat-raised-button color="accent" (click)="openTicket()">
    <mat-icon>receipt</mat-icon> Imprimir Ticket
  </button>
  <button mat-raised-button color="warn" (click)="openA4()">
    <mat-icon>print</mat-icon> Imprimir A4
  </button>
</mat-card-actions>
} -->
</mat-card>
